"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.urlCreationLimiter = exports.limiter = void 0;
var _expressRateLimit = _interopRequireDefault(require("express-rate-limit"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e }; }
var limiter = exports.limiter = (0, _expressRateLimit["default"])({
  windowMs: process.env.RATE_LIMIT_WINDOW * 60 * 1000,
  // Convert minutes to milliseconds
  max: process.env.RATE_LIMIT_MAX_REQUESTS,
  message: {
    status: 429,
    message: 'Too many requests, please try again later.'
  }
});

// Specific limiter for URL shortening
var urlCreationLimiter = exports.urlCreationLimiter = (0, _expressRateLimit["default"])({
  windowMs: 60 * 60 * 1000,
  // 1 hour
  max: 10,
  // max 10 URLs per hour
  message: {
    status: 429,
    message: 'URL creation limit reached, please try again later.'
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1JhdGVMaW1pdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZSIsIl9fZXNNb2R1bGUiLCJsaW1pdGVyIiwiZXhwb3J0cyIsInJhdGVMaW1pdCIsIndpbmRvd01zIiwicHJvY2VzcyIsImVudiIsIlJBVEVfTElNSVRfV0lORE9XIiwibWF4IiwiUkFURV9MSU1JVF9NQVhfUkVRVUVTVFMiLCJtZXNzYWdlIiwic3RhdHVzIiwidXJsQ3JlYXRpb25MaW1pdGVyIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL21pZGRsZXdhcmUvcmF0ZUxpbWl0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByYXRlTGltaXQgZnJvbSAnZXhwcmVzcy1yYXRlLWxpbWl0JztcclxuXHJcbmV4cG9ydCBjb25zdCBsaW1pdGVyID0gcmF0ZUxpbWl0KHtcclxuICAgIHdpbmRvd01zOiBwcm9jZXNzLmVudi5SQVRFX0xJTUlUX1dJTkRPVyAqIDYwICogMTAwMCwgLy8gQ29udmVydCBtaW51dGVzIHRvIG1pbGxpc2Vjb25kc1xyXG4gICAgbWF4OiBwcm9jZXNzLmVudi5SQVRFX0xJTUlUX01BWF9SRVFVRVNUUyxcclxuICAgIG1lc3NhZ2U6IHtcclxuICAgICAgICBzdGF0dXM6IDQyOSxcclxuICAgICAgICBtZXNzYWdlOiAnVG9vIG1hbnkgcmVxdWVzdHMsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJ1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIFNwZWNpZmljIGxpbWl0ZXIgZm9yIFVSTCBzaG9ydGVuaW5nXHJcbmV4cG9ydCBjb25zdCB1cmxDcmVhdGlvbkxpbWl0ZXIgPSByYXRlTGltaXQoe1xyXG4gICAgd2luZG93TXM6IDYwICogNjAgKiAxMDAwLCAvLyAxIGhvdXJcclxuICAgIG1heDogMTAsIC8vIG1heCAxMCBVUkxzIHBlciBob3VyXHJcbiAgICBtZXNzYWdlOiB7XHJcbiAgICAgICAgc3RhdHVzOiA0MjksXHJcbiAgICAgICAgbWVzc2FnZTogJ1VSTCBjcmVhdGlvbiBsaW1pdCByZWFjaGVkLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyLidcclxuICAgIH1cclxufSk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxpQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTJDLFNBQUFELHVCQUFBRSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsZ0JBQUFBLENBQUE7QUFFcEMsSUFBTUUsT0FBTyxHQUFBQyxPQUFBLENBQUFELE9BQUEsR0FBRyxJQUFBRSw0QkFBUyxFQUFDO0VBQzdCQyxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxpQkFBaUIsR0FBRyxFQUFFLEdBQUcsSUFBSTtFQUFFO0VBQ3JEQyxHQUFHLEVBQUVILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyx1QkFBdUI7RUFDeENDLE9BQU8sRUFBRTtJQUNMQyxNQUFNLEVBQUUsR0FBRztJQUNYRCxPQUFPLEVBQUU7RUFDYjtBQUNKLENBQUMsQ0FBQzs7QUFFRjtBQUNPLElBQU1FLGtCQUFrQixHQUFBVixPQUFBLENBQUFVLGtCQUFBLEdBQUcsSUFBQVQsNEJBQVMsRUFBQztFQUN4Q0MsUUFBUSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSTtFQUFFO0VBQzFCSSxHQUFHLEVBQUUsRUFBRTtFQUFFO0VBQ1RFLE9BQU8sRUFBRTtJQUNMQyxNQUFNLEVBQUUsR0FBRztJQUNYRCxPQUFPLEVBQUU7RUFDYjtBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==